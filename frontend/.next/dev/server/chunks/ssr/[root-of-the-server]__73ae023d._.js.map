{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/Shopping_Chat_Agent/shopping_chat_agent/frontend/app/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useRef, useEffect } from \"react\";\n\ntype Phone = {\n  name: string;\n  brand: string;\n  price: number;\n  camera?: string;\n  battery?: string;\n  display?: string;\n  processor?: string;\n  charging?: string;\n  storage?: string;\n  image?: string;\n};\n\ntype Msg = { sender: \"user\" | \"bot\"; text?: string; results?: Phone[]; compare?: { left?: Phone; right?: Phone; tradeoffs?: string[]; } };\n\nexport default function Home() {\n  const [input, setInput] = useState(\"\");\n  const [msgs, setMsgs] = useState<Msg[]>([\n    { sender: \"bot\", text: \"ðŸ›’ Shopping Chat Assistant â€” ask me about phones (e.g., â€˜Best camera phone under â‚¹30kâ€™)\" },\n  ]);\n  const [loading, setLoading] = useState(false);\n  const endRef = useRef<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    endRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [msgs, loading]);\n\n  async function send() {\n    if (!input.trim()) return;\n    const user = { sender: \"user\", text: input };\n    setMsgs((m) => [...m, user]);\n    setInput(\"\");\n    setLoading(true);\n\n    try {\n      // POST to frontend proxy or backend directly if needed\n      const res = await fetch(\"/api/chat\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ message: user.text }),\n      });\n      const data = await res.json();\n\n      // Compare response\n      if (data.left || data.right) {\n        setMsgs((m) => [...m, { sender: \"bot\", compare: { left: data.left, right: data.right, tradeoffs: data.tradeoffs || [] } }]);\n      } else if (data.details) {\n        setMsgs((m) => [...m, { sender: \"bot\", results: [data.details], text: data.reply }]);\n      } else if (data.results) {\n        setMsgs((m) => [...m, { sender: \"bot\", results: data.results, text: data.reply }]);\n      } else {\n        setMsgs((m) => [...m, { sender: \"bot\", text: data.reply || \"No results\" }]);\n      }\n    } catch (err) {\n      setMsgs((m) => [...m, { sender: \"bot\", text: \"Server error â€” please try again.\" }]);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  function onKey(e: React.KeyboardEvent<HTMLInputElement>) {\n    if (e.key === \"Enter\") send();\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 p-6 flex justify-center\">\n      <div className=\"w-full max-w-3xl bg-white shadow-2xl rounded-2xl p-6\">\n        <h2 className=\"text-2xl font-bold mb-4\">ðŸ§  Smart Phone Recommender</h2>\n\n        <div className=\"h-[60vh] overflow-y-auto p-3 border rounded-lg space-y-4 bg-gray-50\">\n          {msgs.map((m, i) => (\n            <div key={i} className={`flex ${m.sender === \"user\" ? \"justify-end\" : \"justify-start\"}`}>\n              <div className={`${m.sender === \"user\" ? \"bg-blue-600 text-white\" : \"bg-white\"} p-3 rounded-xl shadow max-w-[85%]`}>\n                {m.text && <div className=\"whitespace-pre-line\">{m.text}</div>}\n\n                {/* show results as cards */}\n                {m.results && (\n                  <div className=\"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-3\">\n                    {m.results.map((p, idx) => (\n                      <div key={idx} className=\"border rounded-lg p-3 bg-white\">\n                        {p.image ? <img src={p.image} alt={p.name} className=\"w-full h-36 object-cover rounded\" /> : null}\n                        <div className=\"mt-2\">\n                          <div className=\"font-semibold\">{p.name}</div>\n                          <div className=\"text-sm text-gray-600\">{p.brand}</div>\n                          <div className=\"font-bold mt-1\">â‚¹{p.price}</div>\n                          <div className=\"text-xs mt-1 text-gray-700\">{p.camera}</div>\n                          <div className=\"text-xs\">{p.battery}</div>\n                          <div className=\"text-xs\">{p.processor}</div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* compare view */}\n                {m.compare && (\n                  <div className=\"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div className=\"border rounded p-3\">\n                      <div className=\"font-semibold\">{m.compare.left?.name}</div>\n                      <div className=\"text-sm\">{m.compare.left?.brand} â€” â‚¹{m.compare.left?.price}</div>\n                      <div className=\"text-xs mt-2\">{m.compare.left?.camera}</div>\n                      <div className=\"text-xs\">{m.compare.left?.battery}</div>\n                      <div className=\"text-xs\">{m.compare.left?.processor}</div>\n                    </div>\n                    <div className=\"border rounded p-3\">\n                      <div className=\"font-semibold\">{m.compare.right?.name}</div>\n                      <div className=\"text-sm\">{m.compare.right?.brand} â€” â‚¹{m.compare.right?.price}</div>\n                      <div className=\"text-xs mt-2\">{m.compare.right?.camera}</div>\n                      <div className=\"text-xs\">{m.compare.right?.battery}</div>\n                      <div className=\"text-xs\">{m.compare.right?.processor}</div>\n                    </div>\n                    <div className=\"col-span-full mt-2\">\n                      <div className=\"font-semibold\">Tradeoffs:</div>\n                      <ul className=\"list-disc pl-6\">\n                        {m.compare.tradeoffs?.map((t, j) => <li key={j}>{t}</li>)}\n                      </ul>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          ))}\n          <div ref={endRef} />\n        </div>\n\n        <div className=\"mt-4 flex gap-2\">\n          <input\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            onKeyDown={onKey}\n            className=\"flex-1 border rounded-full px-4 py-2\"\n            placeholder=\"E.g. 'Best camera phone under â‚¹30k' or 'Compare Pixel 8a vs OnePlus 12R'\"\n          />\n          <button onClick={send} disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded-full\">\n            {loading ? \"...\" : \"Send\"}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 448, "column": 0}, "map": {"version":3,"sources":["file:///D:/Shopping_Chat_Agent/shopping_chat_agent/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file:///D:/Shopping_Chat_Agent/shopping_chat_agent/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 472, "column": 0}, "map": {"version":3,"sources":["file:///D:/Shopping_Chat_Agent/shopping_chat_agent/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}}]
}